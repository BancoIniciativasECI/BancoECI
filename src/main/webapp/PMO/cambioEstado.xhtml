<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <link rel="stylesheet" type="text/css" href="../css/actualizarRol.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Quicksand" />
    <title> Información de Iniciativas </title>
</h:head>
<h:body>
    <p:commandButton id="boton_salir" value="Salir" actionListener="#{loginBean.logOut}"/>
    <br/>
    <h1>Información de la iniciativa</h1>
    <h:form id="FormaInfoUser">
        <p:dataTable id="tbl" var="ini" value="#{iniciativaBean.consultarIniciativaSolita()}" >
            <p:column headerText="Id Iniciativa" style=" background-color: skyblue; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{ini.id}" />
            </p:column>
            <p:column headerText="Nombre" style=" background-color: mintcream;font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{ini.nombre}" />
            </p:column>
            <p:column headerText="Estado" style=" background-color: skyblue; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{ini.estado}" />
            </p:column>
            <p:column headerText="Descripcion" style="background-color: mintcream; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{ini.descripcion}" />
            </p:column>
        </p:dataTable>

        <p:messages>
            <p:autoUpdate />
        </p:messages>
        <h:panelGrid columns="2" style="margin-top:2%" cellpadding="5">
            <p:outputLabel for="@next" value="Estado a seleccionar:" style="font-family: Quicksand;font-size: 20px;" />
            <p:selectOneMenu id="console" value="#{iniciativaBean.estado}" style="width:125px">
                <f:selectItem itemLabel="" itemValue="" />
                <f:selectItem itemLabel="En espera" itemValue="Espera" />
                <f:selectItem itemLabel="En revisión" itemValue="Revision" />
                <f:selectItem itemLabel="Proyecto" itemValue="Proyecto" />
                <f:selectItem itemLabel="Solucionado" itemValue="Solucionado" />
                <f:facet name="footer">
                    <p:separator />
                    <h:outputText value="3 consoles" style="font-weight:bold;"/>
                </f:facet>
            </p:selectOneMenu>
        </h:panelGrid>

        <br/>
        <br/>
        <p:commandButton id="actualizarEstado" value="Actualizar Estado"  action="#{iniciativaBean.info}" actionListener="#{iniciativaBean.cambiarEstadoAiniciativa(iniciativaBean.estado)}" style="margin-top: 4px;width: 20%;font-family: Quicksand;background-color: mintcream;border-radius: 15px;"/>
        <br/>
        <br/>
        <p:commandButton process="@this" id="Regresar" value="regresar" action="pmo.xhtml?faces-redirect = true" style="margin-top: 4px;width: 10%;font-family: Quicksand;background-color: mintcream;border-radius: 15px;"/>
    </h:form>

    <style type="text/css">
        body .ui-staticmessage.ui-message {
            width: 100%;
        }
    </style>


</h:body>
</html>
