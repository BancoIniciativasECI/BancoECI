<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <link rel="stylesheet" type="text/css" href="css/actualizarRol.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Quicksand" />
    <title> Información de Iniciativas </title>
</h:head>
<h:body>
    <p:commandButton id="boton_salir" value="Salir" actionListener="#{loginBean.logOut}"/>
    <br/>
    <h1>Información de la iniciativa</h1>
    <h:form id="FormaInfoUser">
        <p:dataTable var="user" value="#{iniciativaBean.iniciativa}" >
            <p:column headerText="Id Iniciativa" style=" background-color: skyblue; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniciativaBean.iniciativa.id}" />
            </p:column>
            <p:column headerText="Nombre" style=" background-color: mintcream;font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniciativaBean.iniciativa.nombre}" />
            </p:column>
            <p:column headerText="Estado" style=" background-color: skyblue; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniciativaBean.iniciativa.estado}" />
            </p:column>
            <p:column headerText="Descripcion" style="background-color: mintcream; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniciativaBean.iniciativa.descripcion}" />
            </p:column>
        </p:dataTable>


        <p:messages>
            <p:autoUpdate />
        </p:messages>
        <h:panelGrid columns="2" style="margin-top:2%" cellpadding="5">
            <p:outputLabel for="@next" value="Estado a seleccionar:" style="font-family: Quicksand;font-size: 20px;" />
            <p:selectOneMenu id="console" value="#{iniciativaBean.estado}" style="width:125px">
                <f:selectItem itemLabel="" itemValue="" />
                <f:selectItem itemLabel="En espera" itemValue="Espera" />
                <f:selectItem itemLabel="En revisión" itemValue="Revision" />
                <f:selectItem itemLabel="Proyecto" itemValue="Proyecto" />
                <f:selectItem itemLabel="Solucionado" itemValue="Solucionado" />
                <f:facet name="footer">
                    <p:separator />
                    <h:outputText value="3 consoles" style="font-weight:bold;"/>
                </f:facet>
            </p:selectOneMenu>
        </h:panelGrid>

        <h:outputText value="Confirmacion de idea seleccionada" style="float:left; font-size: 20px;margin-left: 1%" />
        <p:inputText id="busqueda" placeholder="Confirme la idea seleccionada" required="true" type="String" binding="#{id}" style="border-radius: 15px; float:left; margin-left: 5px;"/> <!-- label -->
        <br/>
        <br/>
        <p:commandButton id="actualizarEstado" value="Actualizar Estado"  action="#{iniciativaBean.info}" actionListener="#{iniciativaBean.cambiarEstadoAiniciativa(iniciativaBean.estado,iniciativaBean.consultarIniciativasPorId(id.value))}" style="margin-top: 4px;width: 20%;font-family: Quicksand;background-color: mintcream;border-radius: 15px;"/>
        <br/>
        <br/>
        <p:commandButton id="Regresar" value="regresar" action="pmo.xhtml?faces-redirect = true" style="margin-top: 4px;width: 10%;font-family: Quicksand;background-color: mintcream;border-radius: 15px;"/>
    </h:form>

    <style type="text/css">
        body .ui-staticmessage.ui-message {
            width: 100%;
        }
    </style>

    <div class="ui-g">
        <div class="ui-g-12 ui-md-3">
            <p:staticMessage severity="info" summary="INFO!" detail="Verifica los cambios regresando y volviendo a consultar" />
        </div>
    </div>
</h:body>
</html>
