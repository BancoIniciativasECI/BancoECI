<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <link rel="stylesheet" type="text/css" href="css/iniciativaAtributos.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Quicksand" />
    <f:facet name="first">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
        <meta name="apple-mobile-web-app-capable" content="yes" />
    </f:facet>
    <title>#{msg['application.title']}</title>
</h:head>
<h:body>
    <p:commandButton id="boton_salir" value="Salir" actionListener="#{loginBean.logOut}"/>
    <br/>
    <h1>Comenta y expresa tu afinidad con la iniciativa</h1>
    <h:form id="aportesIniciativa" style="margin-left: 20%; opacity: 0.9; -moz-opacity: 0.9; filter: alpha(opacity=10);-khtml-opacity: 0.8;background-color: mintcream;border-radius: 15px;margin-top: 3%; width:60%">
        <p:dataTable var="user" value="#{iniciativaBean.iniciativa}" >
            <p:column headerText="Id" style=" background-color: skyblue; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniciativaBean.iniciativa.id}" />
            </p:column>
            <p:column headerText="Nombre" style=" background-color: mintcream;font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniciativaBean.iniciativa.nombre}" />
            </p:column>
            <p:column headerText="Contacto" style=" background-color: skyblue; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniciativaBean.iniciativa.usuario.email}" />
            </p:column>
            <p:column headerText="Descripcion" style="background-color: mintcream; font-family: Quicksand; font-size: 18px">
                <h:outputText value="#{iniciativaBean.iniciativa.descripcion}" />
            </p:column>
        </p:dataTable>
        <p:messages>
            <p:autoUpdate />
        </p:messages>
        <h:panelGrid columns="2" cellpadding="15">
            <p:outputLabel for="@next" value="Comentario sobre la iniciativa:" style="font-family: Quicksand; font-weight: bold; font-size: large"/>
            <p:inputTextarea id="comentarios" type="String" binding="#{comentario}" counter="display"  rows="7" maxlength="300" counterTemplate="Le quedan {0} caracteres" autoResize="true" style="width: 210%"/>
            <br />
            <h:outputText id="display" style="color: grey" />
            <p:outputLabel for="@next" value="Afinidad con iniciativa:" style="font-family: Quicksand; font-weight: bold; font-size: large;margin-left: -10%;"/>
            <p:rating stars="10" cancel="false" onRate="alert('You rated ' + value)" style="background-color: grey; opacity: 95%; border-radius: 10px"/>
            <p:outputLabel for="@next" value="Â¿Te gusta esta iniciativa?" style="font-family: Quicksand; font-weight: bold; font-size: large;margin-left: -10%;"/>
            <p:selectOneRadio id="console" value="hola" unselectable="true">
                <f:selectItem itemLabel="Si" itemValue="True" />
                <f:selectItem itemLabel="No" itemValue="False" />
            </p:selectOneRadio>

            <h:outputText  value="Id de iniciativa" style="float:left; font-size: 20px;margin-left: 1%" />
            <p:inputText id="busqueda" placeholder="id de iniciativa" type="String" required="true" binding="#{idIni}" style="border-radius: 15px; float:left; margin-left: 5px;"/> <!-- label -->

            <h:outputText value="Ingrese su documento" style="float:left; font-size: 20px;margin-left: 1%" />
            <p:inputText id="bus" placeholder="Documento" required="true" type="String" binding="#{documento}" style="border-radius: 15px; float:left; margin-left: 5px;"/> <!-- label -->

            <p:commandButton id="validar" value="Aporta a Iniciativa" action="#{iniciativaBean.info}" actionListener="#{iniciativaBean.agregarComentarioAIniciativa(comentario.value, documento.value, idIni.value)}" style="background-color: mintcream; border-radius: 15px; width: 80%; font-family: Quicksand"/>
            <p:commandButton value="Regresar" action="busquedaIniciativaPalabras.xhtml?faces-redirect = true" style="background-color: mintcream; border-radius: 15px;"/>
        </h:panelGrid>
    </h:form>
    <br/>
    <br/>
</h:body>
</html>